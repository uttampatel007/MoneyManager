{% extends 'main/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container-fluid">
  	<h3 class="mt-4">EXPENDITURE</h3>
  	<br>
  	<form method="POST">
   		{% csrf_token %}
    	{{ form|crispy }}
    	<input type="submit" value="Submit">
 	</form>
 	<br>
 	<h4>Total Expenditure: {{total_expenditure}}</h4>
 	<br>
  	<h4>Expenditure Table</h4>
	<table class="table table-hover">
	  <thead>
	    <tr>
	      <th scope="col">No.</th>
	      <th scope="col">Date</th>
	      <th scope="col">Source</th>
	      <th scope="col">Type</th>
	      <th scope="col">Mode</th>
	      <th scope="col">Amount</th>
	    </tr>
	  </thead>
	  <tbody>
	  	{% for expenditure in expenditures %}
	    <tr>
	      <th scope="row">{{ forloop.counter }}</th>
	      <td>{{expenditure.date}}</td>
	      <td><a href="{% url 'main:expenditure-update' expenditure.id %}">{{expenditure.purpose}}</td>
	      <td>{{expenditure.expenditure_type}}</td>
	      <td>{{expenditure.payment_mode}}</td>
	      <td>{{expenditure.amount}}</td>
	    </tr>
	    {% endfor %}
	  </tbody>
	</table>
</div>

{% endblock %}